include "kamon"
include "persistence-jdbc"
akka {
  http.server.parsing.max-chunk-size = 10M
}

futures-dispatcher {
  type = Dispatcher
  executor = "thread-pool-executor"
  thread-pool-executor {
    fixed-pool-size = 8
    fixed-pool-size = ${?BLOCKING_DISPATCHER_POOL_SIZE}
    
    # TODO use this configs instead of a fixed pool size
    # core-pool-size-min = 8
    # core-pool-size-factor = 2.0
    # core-pool-size-max = 64

    # max-pool-size-min = 8
    # max-pool-size-factor = 2.0
    # max-pool-size-max = 64
  }
  throughput = 1
  throughput = ${?BLOCKING_DISPATCHER_THROUGHPUT}
}

catalog-management {
  port = 8088
  idle-timeout = 60 seconds
  number-of-events-before-snapshot = 1000
  jwt {
    audience = ${ACCEPTED_AUDIENCES}
  }
  storage {
    kind = "S3"
    container = ${STORAGE_CONTAINER}
    eservice-docs-path = "eservices/docs"
    eservice-docs-path = ${?ESERVICE_DOCS_PATH}
  }
}

interop-commons {
  jwt {
    public-keys {
      urls = ${WELL_KNOWN_URLS}
    }
  }
}